(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cc860a0"],{"075e":function(t,e,i){t.exports=i.p+"img/go.b819b1a3.png"},"0abd":function(t,e,i){t.exports=i.p+"img/bean_one.84279a9a.png"},"1d17":function(t,e,i){},"2c26":function(t,e,i){"use strict";i.r(e);var a,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:t.$t("luckWheel.header.title"),"sub-title":t.$t("luckWheel.header.subtitle")},on:{back:function(){return t.$router.push({name:"home"})}}},[a("template",{slot:"extra"},[a("a-button",{key:"3",attrs:{icon:"sync"},on:{click:t.handleRandomItem}},[t._v(" "+t._s(t.$t("luckWheel.header.rr"))+" ")]),a("a-button",{key:"2",attrs:{icon:"minus-circle"},on:{click:t.handleClearCache}},[t._v(" "+t._s(t.$t("luckWheel.header.cc"))+" ")]),a("a-button",{key:"1",attrs:{icon:"setting",type:"primary"},on:{click:t.showDrawer}},[t._v(" "+t._s(t.$t("luckWheel.header.st"))+" ")])],1)],2),a("a-drawer",{attrs:{title:t.$t("luckWheel.listTitle"),placement:"right",closable:!1,visible:t.visible,width:"50%"},on:{close:t.onClose}},[a("item-list",{ref:"ilst",attrs:{"data-source":t.dataSource,"add-item-auto":t.addItemAuto,"del-item-by-key":t.delItemByKey,"clear-all":t.clearAll,"update-source":t.updateSource}})],1),a("a-empty",{directives:[{name:"show",rawName:"v-show",value:t.showEmpty,expression:"showEmpty"}]}),a("div",{attrs:{id:"wheel",hidden:t.showEmpty}},[a("div",{staticClass:"big-wheel-box"},[a("wheel",{ref:"childWheel",attrs:{width:"35rem",height:"35rem",prizeList:t.dataSource},on:{over:t.openNotification},scopedSlots:t._u([{key:"item",fn:function(e){var r=e.item;return[a("div",{staticClass:"prize-name"},[t._v(t._s(r.name))]),a("img",{staticClass:"prize-img",staticStyle:{"border-radius":"5px"},attrs:{src:r.url?r.url:i("0abd")}})]}}])}),a("img",{staticClass:"btn-go",attrs:{src:i("075e")},on:{click:t.go}})],1)])],1)},n=[],s=(i("b0c0"),i("5530")),o=i("ade3"),c=(i("9e39"),i("f933")),l=(i("805a"),i("0c63")),u=(i("a71a"),i("b558")),h=(i("153b"),i("9571")),d=(i("e1f5"),i("5efb")),f=(i("c0ed"),i("9fd0")),p=(i("dcac"),i("fc25")),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"bigWheel",staticClass:"__big-wheel",style:{width:t.width,height:t.height}},[i("div",{staticClass:"wrap",style:{transform:t.rotateAngle,transition:t.rotateTransition}},[i("canvas",{ref:"canvas",attrs:{id:"canvas"}},[t._v("浏览器版本过低")]),i("div",{staticClass:"prize-wrap"},t._l(t.prizeList,(function(e,a){return i("div",{key:a,staticClass:"item",style:t._calcRotateAngle(a)},[t._t("item",null,{item:e})],2)})),0)])])},b=[],g=(i("cb29"),i("a9e3"),{name:"Wheel",props:{prizeList:{type:Array,required:!0},width:{required:!0},height:{required:!0},prizeBgColors:{type:Array,default:function(){return["#F52D4B","#FEE9ED"]}},borderColor:{type:String,default:"#F23544"},turnsNumber:{type:Number,default:5},turnsTime:{type:Number,default:5}},data:function(){return{startRotateDegree:0,rotateAngle:"rotate(30deg)",rotateTransition:""}},methods:{initData:function(){var t=this.prizeList.length,e=this.prizeBgColors,i=this.borderColor,a=this.$refs.canvas,r=a.getContext("2d"),n=this.$refs.canvas.width=this.$refs.bigWheel.clientWidth,s=this.$refs.canvas.height=this.$refs.bigWheel.clientHeight;r.translate(0,s),r.rotate(-90*Math.PI/180);var o=n/2-1,c=0,l=2*Math.PI/t;r.clearRect(0,0,n,s),r.strokeStyle=i;for(var u=-1,h=0;h<t;h++){var d=h*l;u++,r.fillStyle=e[u],u===e.length-1&&(u=-1),r.beginPath(),r.arc(.5*n,.5*s,o,d,d+l,!1),r.arc(.5*n,.5*s,c,d+l,d,!0),r.stroke(),r.fill(),r.save()}},rotate:function(t){var e=this,i=this.turnsTime,a=this.startRotateDegree+360*this.turnsNumber+360-(180/this.prizeList.length+360/this.prizeList.length*t)-this.startRotateDegree%360;this.startRotateDegree=a,this.rotateAngle="rotate(".concat(a,"deg)"),this.rotateTransition="transform ".concat(i,"s cubic-bezier(0.250, 0.460, 0.455, 0.995)"),setTimeout((function(){e.$emit("over",e.prizeList[t])}),1e3*i+500)},_calcRotateAngle:function(t){var e=360/this.prizeList.length*t+180/this.prizeList.length;return{transform:"rotate(".concat(e,"deg)")}}},mounted:function(){this.initData()}}),v=g,y=(i("313c"),i("2877")),w=Object(y["a"])(v,m,b,!1,null,"0a0402c2",null),k=w.exports,I=k,_=i("e82f"),$=i("2f62"),N={name:"LuckWheel",components:(a={ItemList:_["a"],Wheel:I},Object(o["a"])(a,p["a"].name,p["a"]),Object(o["a"])(a,f["a"].name,f["a"]),Object(o["a"])(a,d["a"].name,d["a"]),Object(o["a"])(a,h["a"].name,h["a"]),Object(o["a"])(a,u["a"].name,u["a"]),Object(o["a"])(a,l["a"].name,l["a"]),Object(o["a"])(a,c["a"].name,c["a"]),a),data:function(){return{visible:!1,isRunning:!1}},methods:Object(s["a"])({go:function(){if(!this.isRunning){this.isRunning=!0;var t=Math.floor(Math.random()*this.dataSource.length);this.$refs.childWheel.rotate(t)}},openNotification:function(t){var e=this.$createElement;this.isRunning=!1,this.$notification.config({placement:"topLeft",top:"120px"}),this.$notification.open({duration:null,message:t.name,description:t.subtitle,icon:e("a-icon",{attrs:{type:"smile"},style:"color: #108ee9"})})},showDrawer:function(){this.visible=!0},onClose:function(){this.visible=!1},handleRandomItem:function(){this.randomItem()},handleClearCache:function(){this.$confirm({title:this.$t("list.clCache"),content:this.$t("list.content"),okText:this.$t("list.okText"),okType:"danger",cancelText:this.$t("list.cancelText"),onOk:function(){}})}},Object($["c"])("luckWheelM",["randomItem","addItemAuto","delItemByKey","clearAll","updateSource"])),computed:Object(s["a"])({showEmpty:{get:function(){return 0===this.dataSource.length}}},Object($["d"])("luckWheelM",["dataSource"])),watch:{dataSource:{deep:!0,immediate:!0,handler:function(){var t=this;this.$nextTick((function(){t.$refs.childWheel.initData()}))}}},beforeDestroy:function(){this.$notification.destroy()}},C=N,E=(i("385f"),Object(y["a"])(C,r,n,!1,null,null,null));e["default"]=E.exports},"313c":function(t,e,i){"use strict";i("1d17")},"385f":function(t,e,i){"use strict";i("b06d")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var a=i("1d80"),r=i("5899"),n="["+r+"]",s=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),c=function(t){return function(e){var i=String(a(e));return 1&t&&(i=i.replace(s,"")),2&t&&(i=i.replace(o,"")),i}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,i){var a=i("861d"),r=i("d2bb");t.exports=function(t,e,i){var n,s;return r&&"function"==typeof(n=e.constructor)&&n!==i&&a(s=n.prototype)&&s!==i.prototype&&r(t,s),t}},"81d5":function(t,e,i){"use strict";var a=i("7b0b"),r=i("23cb"),n=i("50c4");t.exports=function(t){var e=a(this),i=n(e.length),s=arguments.length,o=r(s>1?arguments[1]:void 0,i),c=s>2?arguments[2]:void 0,l=void 0===c?i:r(c,i);while(l>o)e[o++]=t;return e}},a9e3:function(t,e,i){"use strict";var a=i("83ab"),r=i("da84"),n=i("94ca"),s=i("6eeb"),o=i("5135"),c=i("c6b6"),l=i("7156"),u=i("c04e"),h=i("d039"),d=i("7c73"),f=i("241c").f,p=i("06cf").f,m=i("9bf2").f,b=i("58a8").trim,g="Number",v=r[g],y=v.prototype,w=c(d(y))==g,k=function(t){var e,i,a,r,n,s,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=b(l),e=l.charCodeAt(0),43===e||45===e){if(i=l.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+l}for(n=l.slice(2),s=n.length,o=0;o<s;o++)if(c=n.charCodeAt(o),c<48||c>r)return NaN;return parseInt(n,a)}return+l};if(n(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var I,_=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof _&&(w?h((function(){y.valueOf.call(i)})):c(i)!=g)?l(new v(k(e)),i,_):k(e)},$=a?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),N=0;$.length>N;N++)o(v,I=$[N])&&!o(_,I)&&m(_,I,p(v,I));_.prototype=y,y.constructor=_,s(r,g,_)}},b06d:function(t,e,i){},cb29:function(t,e,i){var a=i("23e7"),r=i("81d5"),n=i("44d2");a({target:"Array",proto:!0},{fill:r}),n("fill")}}]);
//# sourceMappingURL=chunk-7cc860a0.c1348913.js.map