(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d5bd63a"],{"075e":function(t,e,a){t.exports=a.p+"img/go.b819b1a3.png"},"0abd":function(t,e,a){t.exports=a.p+"img/bean_one.84279a9a.png"},"2c26":function(t,e,a){"use strict";a.r(e);var i,r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:t.title,"sub-title":t.subTitle},on:{back:function(){return t.$router.go(-1)}}},[i("template",{slot:"extra"},[i("a-button",{key:"3",on:{click:t.handleRandomItem}},[t._v(" Random Refresh ")]),i("a-button",{key:"2",on:{click:t.handleClearCache}},[t._v(" Clear Cache ")]),i("a-button",{key:"1",attrs:{type:"primary"},on:{click:t.showDrawer}},[t._v(" Setting ")])],1)],2),i("a-drawer",{attrs:{title:"Card Setting",placement:"right",closable:!1,visible:t.visible,width:"40%",size:"small","after-visible-change":t.afterVisibleChange},on:{close:t.onClose}},[i("item-list",{attrs:{"data-source":t.dataSource}})],1),i("a-empty",{directives:[{name:"show",rawName:"v-show",value:t.showEmpty,expression:"showEmpty"}]}),i("div",{attrs:{id:"wheel"}},[i("div",{staticClass:"big-wheel-box"},[i("wheel",{ref:"bigWheel",attrs:{width:"35rem",height:"35rem",prizeList:t.prizeList},on:{over:t.over},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[i("div",{staticClass:"prize-name"},[t._v(t._s(a.txt))]),i("img",{staticClass:"prize-img",attrs:{src:a.img}})]}}])}),i("img",{staticClass:"btn-go",attrs:{src:a("075e")},on:{click:t.go}})],1)])],1)},n=[],s=(a("b0c0"),a("5530")),o=a("ade3"),c=(a("9e39"),a("f933")),l=(a("805a"),a("0c63")),u=(a("a71a"),a("b558")),h=(a("153b"),a("9571")),f=(a("e1f5"),a("5efb")),d=(a("c0ed"),a("9fd0")),b=(a("dcac"),a("fc25")),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bigWheel",staticClass:"__big-wheel",style:{width:t.width,height:t.height}},[a("div",{staticClass:"wrap",style:{transform:t.rotateAngle,transition:t.rotateTransition}},[a("canvas",{ref:"canvas",attrs:{id:"canvas"}},[t._v("浏览器版本过低")]),a("div",{staticClass:"prize-wrap"},t._l(t.prizeList,(function(e,i){return a("div",{key:i,staticClass:"item",style:t._calcRotateAngle(i)},[t._t("item",null,{item:e})],2)})),0)])])},p=[],m=(a("cb29"),a("a9e3"),{name:"Wheel",props:{prizeList:{type:Array,required:!0},width:{required:!0},height:{required:!0},prizeBgColors:{type:Array,default:function(){return["#F52D4B","#FEE9ED"]}},borderColor:{type:String,default:"#F23544"},turnsNumber:{type:Number,default:5},turnsTime:{type:Number,default:5}},data:function(){return{startRotateDegree:0,rotateAngle:"rotate(30deg)",rotateTransition:""}},methods:{init:function(){var t=this.prizeList.length,e=this.prizeBgColors,a=this.borderColor,i=this.$refs.canvas,r=i.getContext("2d"),n=this.$refs.canvas.width=this.$refs.bigWheel.clientWidth,s=this.$refs.canvas.height=this.$refs.bigWheel.clientHeight;r.translate(0,s),r.rotate(-90*Math.PI/180);var o=n/2-1,c=0,l=2*Math.PI/t;r.clearRect(0,0,n,s),r.strokeStyle=a;for(var u=-1,h=0;h<t;h++){var f=h*l;u++,r.fillStyle=e[u],u===e.length-1&&(u=-1),r.beginPath(),r.arc(.5*n,.5*s,o,f,f+l,!1),r.arc(.5*n,.5*s,c,f+l,f,!0),r.stroke(),r.fill(),r.save()}},rotate:function(t){var e=this,a=this.turnsTime,i=this.startRotateDegree+360*this.turnsNumber+360-(180/this.prizeList.length+360/this.prizeList.length*t)-this.startRotateDegree%360;this.startRotateDegree=i,this.rotateAngle="rotate(".concat(i,"deg)"),this.rotateTransition="transform ".concat(a,"s cubic-bezier(0.250, 0.460, 0.455, 0.995)"),setTimeout((function(){e.$emit("over",e.prizeList[t])}),1e3*a+500)},_calcRotateAngle:function(t){var e=360/this.prizeList.length*t+180/this.prizeList.length;return{transform:"rotate(".concat(e,"deg)")}}},mounted:function(){this.init()}}),v=m,w=(a("566d"),a("2877")),y=Object(w["a"])(v,g,p,!1,null,"3cfa15fc",null),C=y.exports,I=C,_=a("e82f"),x=a("2f62"),N=Object(x["a"])("luckCardModule"),E=N.mapMutations,k={name:"LuckWheel",components:(i={ItemList:_["a"],Wheel:I},Object(o["a"])(i,b["a"].name,b["a"]),Object(o["a"])(i,d["a"].name,d["a"]),Object(o["a"])(i,f["a"].name,f["a"]),Object(o["a"])(i,h["a"].name,h["a"]),Object(o["a"])(i,u["a"].name,u["a"]),Object(o["a"])(i,l["a"].name,l["a"]),Object(o["a"])(i,c["a"].name,c["a"]),i),data:function(){return{title:"Luck Wheel",subTitle:"This is a subtitle.",visible:!1,showEmpty:!1,prizeList:[{txt:"金豆1",img:a("0abd")},{txt:"金豆2",img:a("0abd")},{txt:"金豆3",img:a("0abd")},{txt:"金豆4",img:a("0abd")},{txt:"金豆5",img:a("0abd")},{txt:"金豆6",img:a("0abd")}],valve:!1}},methods:Object(s["a"])({go:function(){if(!this.valve){this.valve=!0;var t=Math.floor(Math.random()*this.prizeList.length);this.winningIndex=t,this.$refs.bigWheel.rotate(t)}},over:function(t){alert("恭喜获得".concat(t.txt)),this.valve=!1},afterVisibleChange:function(t){console.log("visible",t)},showDrawer:function(){this.visible=!0},onClose:function(){this.visible=!1},handleRandomItem:function(){this.randomItem()},handleClearCache:function(){}},E(["randomItem"])),computed:{dataSource:function(){return this.$store.getters["luckCardModule/getDataSource"]}}},z=k,A=(a("385f"),Object(w["a"])(z,r,n,!1,null,null,null));e["default"]=A.exports},"385f":function(t,e,a){"use strict";a("b06d")},"566d":function(t,e,a){"use strict";a("84cb")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var i=a("1d80"),r=a("5899"),n="["+r+"]",s=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),c=function(t){return function(e){var a=String(i(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,a){var i=a("861d"),r=a("d2bb");t.exports=function(t,e,a){var n,s;return r&&"function"==typeof(n=e.constructor)&&n!==a&&i(s=n.prototype)&&s!==a.prototype&&r(t,s),t}},"81d5":function(t,e,a){"use strict";var i=a("7b0b"),r=a("23cb"),n=a("50c4");t.exports=function(t){var e=i(this),a=n(e.length),s=arguments.length,o=r(s>1?arguments[1]:void 0,a),c=s>2?arguments[2]:void 0,l=void 0===c?a:r(c,a);while(l>o)e[o++]=t;return e}},"84cb":function(t,e,a){},a9e3:function(t,e,a){"use strict";var i=a("83ab"),r=a("da84"),n=a("94ca"),s=a("6eeb"),o=a("5135"),c=a("c6b6"),l=a("7156"),u=a("c04e"),h=a("d039"),f=a("7c73"),d=a("241c").f,b=a("06cf").f,g=a("9bf2").f,p=a("58a8").trim,m="Number",v=r[m],w=v.prototype,y=c(f(w))==m,C=function(t){var e,a,i,r,n,s,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=p(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+l}for(n=l.slice(2),s=n.length,o=0;o<s;o++)if(c=n.charCodeAt(o),c<48||c>r)return NaN;return parseInt(n,i)}return+l};if(n(m,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var I,_=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof _&&(y?h((function(){w.valueOf.call(a)})):c(a)!=m)?l(new v(C(e)),a,_):C(e)},x=i?d(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),N=0;x.length>N;N++)o(v,I=x[N])&&!o(_,I)&&g(_,I,b(v,I));_.prototype=w,w.constructor=_,s(r,m,_)}},b06d:function(t,e,a){},cb29:function(t,e,a){var i=a("23e7"),r=a("81d5"),n=a("44d2");i({target:"Array",proto:!0},{fill:r}),n("fill")}}]);
//# sourceMappingURL=chunk-5d5bd63a.c9a7c3ef.js.map